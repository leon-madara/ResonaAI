# Core dependencies
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic==2.5.0; python_version < "3.13"
pydantic==2.12.5; python_version >= "3.13"
pydantic-settings==2.1.0
python-multipart==0.0.6

# HTTP client (required by FastAPI/Starlette TestClient and gateway routing)
httpx==0.25.2

# Audio processing
librosa==0.10.1
soundfile==0.12.1
# PyAudio often requires system-level PortAudio headers; keep it optional on Windows.
pyaudio==0.2.11; platform_system != "Windows"
# webrtcvad requires native compilation on some Windows/Python combos; keep optional for local dev.
webrtcvad==2.0.10; platform_system != "Windows"
noisereduce==3.0.0

# Machine Learning
# Torch/torchaudio wheels are Python-version dependent.
# - Docker services use Python 3.11 (pins below).
# - Local dev on Windows here is Python 3.14, which requires newer torch wheels.
torch==2.1.1; python_version < "3.13"
torchaudio==2.1.1; python_version < "3.13"
torch==2.9.1; python_version >= "3.13"
torchaudio==2.9.1; python_version >= "3.13"
transformers==4.36.0; python_version < "3.13"
transformers==4.57.3; python_version >= "3.13"
scikit-learn==1.3.2; python_version < "3.13"
scikit-learn==1.8.0; python_version >= "3.13"
numpy==1.24.4; python_version < "3.13"
numpy==2.3.5; python_version >= "3.13"
pandas==2.1.4; python_version < "3.13"
pandas==2.3.3; python_version >= "3.13"

# Feature extraction
python-speech-features==0.6
pyAudioAnalysis==0.3.14
scipy>=1.10.0

# Utilities
python-dotenv==1.0.0
loguru==0.7.2
aiofiles==23.2.1
websockets==12.0
psutil==5.9.6

# Authentication & Security
bcrypt==4.1.2
python-jose[cryptography]==3.3.0

# Email
aiosmtplib==3.0.1

# RAG & Vector Databases (optional)
sentence-transformers>=2.2.0
pinecone-client>=2.2.0; extra == "pinecone"
weaviate-client>=3.24.0; extra == "weaviate"

# HTTP Client for external APIs
requests>=2.31.0

# Background Jobs
celery==5.3.4
redis==5.0.1

# Development
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0
pytest-mock==3.12.0
hypothesis==6.88.1
black==23.11.0
flake8==6.1.0
